---
sidebar_position: 1
displayed_sidebar: frontendSidebar
draft: true
title: Vue 2 ä»é›¶å¼€å§‹
---

## åˆ›å»ºé¡¹ç›®

### å‘½ä»¤è¡Œ

> åŸºäº `vue-cli` æ„å»ºï¼Œ`vite` æš‚ä¸æ”¯æŒ `vue2`ã€‚æ–°ç‰ˆæœ¬çš„ `vue-cli` å…è®¸é€‰æ‹© `vue` çš„ç‰ˆæœ¬ç­‰ã€‚

```bash
vue create vue-app
```

å¯ä»¥é€šè¿‡æä¾›å‚æ•°è·³è¿‡å‘½ä»¤äº¤äº’çš„é€‰æ‹©æ“ä½œã€‚å¦‚æœä¸ç†Ÿæ‚‰å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡ `vue create -h` æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨å‘½ä»¤ï¼š

| å‘½ä»¤å‚æ•°ç¼©å†™              | å‘½ä»¤å‚æ•°å…¨ç§°     | ä½œç”¨                            | æè¿°               |
| :------------------------ | ---------------- | ------------------------------- | ------------------ |
| `-m <package management>` | --packageManager | æŒ‡å®šåŒ…ç®¡ç†å·¥å…·                  | æ”¯æŒ npm yarn pnpm |
| `-r <url>`                | --registry       | æŒ‡å®š npm æº                     | ä»… npm æ”¯æŒ        |
| `-f`                      | --force          | å¦‚æœåŒåæ–‡ä»¶å­˜åœ¨ï¼Œç›´æ¥è¦†ç›–      |                    |
| `-g [message]`            | --git            | å¼ºåˆ¶ Git åˆå§‹æäº¤å¹¶æŒ‡å®šæäº¤æ¶ˆæ¯ |                    |
| `-n`                      | --no-git         | ä¸è¿›è¡Œ Git åˆå§‹åŒ–               |                    |

### ç”¨æˆ·ç•Œé¢

è¿˜å¯ä»¥é€šè¿‡å›¾å½¢ç•Œé¢åˆ›å»ºé¡¹ç›®ï¼Œå’Œå‘½ä»¤è¡Œäº¤äº’åŠŸèƒ½ä¸€è‡´çš„ã€‚

```bash
vue ui
```

## æ·»åŠ  element-ui

### å®‰è£…

```bash
yarn add element-ui

# or use npm
npm i emelent-ui -S
```

### å¼•å…¥

åœ¨ main.js ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç 

```js
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css'; // element-ui æ ·å¼æ–‡ä»¶

Vue.use(ElementUI); // å…¨å±€æŒ‚è½½
```

### åº”ç”¨

```html
<template>
  <el-button>hello</el-button>
</template>

<script>
  export default {
    name: 'HelloWorld',
  };
</script>
```

### æŒ‰éœ€å¼•å…¥

> å¯å‚è€ƒ `Element` å®˜ç½‘æ“ä½œæŒ‡å¼• [æŒ‰éœ€å¼•å…¥ - Element UI](https://element.eleme.cn/#/zh-CN/component/quickstart#an-xu-yin-ru)

**å®‰è£… babel-plugin-component æ’ä»¶**

```bash npm2yarn
npm install babel-plugin-component -D
```

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ `Babel 7` çš„è¯ï¼Œå®‰è£… `@babel/preset-env`

```bash npm2yarn
npm install @babel/preset-env -D
```

å¦‚æœä¸æ˜¯ `Babel 7`ï¼Œæˆ–è€…é‡åˆ°æŠ¥é”™å¯å‚è€ƒ [Vue ä½¿ç”¨ Element æŒ‰éœ€å¼•å…¥](https://wentao.blog.csdn.net/article/details/128999697?spm=1001.2014.3001.5502)

**ä¿®æ”¹ babel é…ç½®æ–‡ä»¶**

```js
module.exports = {
  presets: ['@vue/cli-plugin-babel/preset', ['@babel/preset-env', { modules: false }]],
  plugins: [
    [
      'component',
      {
        libraryName: 'element-ui',
        styleLibraryName: 'theme-chalk',
      },
    ],
  ],
};
```

**åˆ›å»ºé…ç½®æ–‡ä»¶**

åˆ›å»º `src/config/element.config.js` æ¥ç®¡ç† `element` çš„ç»„ä»¶å¼•å…¥ä¸é…ç½®ï¼ˆåˆ›å»ºé…ç½®æ–‡ä»¶æ˜¯ä¸ºäº†ç»Ÿä¸€é›†ä¸­ç®¡ç†ï¼Œé¿å… `main.js` ä¸­ä»£ç è¿‡å¤šï¼Œæ–‡ä»¶åå’Œè·¯å¾„è‡ªå®šä¹‰ï¼‰

```js
import Vue from 'vue';
import { Button } from 'element-ui';

Vue.use(Button);
// Vue.component(Button.name, Button); // å¦ä¸€ç§å†™æ³•, å¯ä»¥ä¸ºç»„ä»¶é‡å‘½å
```

**åœ¨ main.js ä¸­å¼•ç”¨æ–‡ä»¶**

```js
import './config/element.config'; // å¼•å…¥ element-ui çš„é…ç½®
```

### ä¸ºä»€ä¹ˆä½¿ç”¨æŒ‰éœ€å¼•å…¥

ä¸ºäº†ä¼˜åŒ–æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å¤§å°ï¼Œä¸‹å›¾æ˜¯åœ¨ä»…ä½¿ç”¨æŒ‰é’®ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦å¯ç”¨æŒ‰éœ€å¼•å…¥çš„æ‰“åŒ…ç»“æœå¯¹æ¯”ï¼š

| ä¼˜åŒ–å‰                                       | ä¼˜åŒ–å                                       |
| -------------------------------------------- | -------------------------------------------- |
| ![5.3MB](./images/with-import-on-demand.png) | ![971KB](./images/with-import-on-demand.png) |

## æ·»åŠ  less

**å®‰è£…**

```bash npm2yarn
npm i less less-loader
```

**ä½¿ç”¨**

```html
<style scoped lang="less">
  button {
    color: red; /* æµ‹è¯• */
  }
</style>
```

## æ·»åŠ  axios

## æ·»åŠ  vue-router

### å®‰è£…

å¯¹äº `Vue 2` æ¨èä½¿ç”¨ `3.x` ç‰ˆæœ¬ã€‚å› ä¸º `vue-router 4` é’ˆå¯¹ `Vue 3` åšäº†é€‚é…ï¼Œæœ‰ä¸€äº› `API` çš„å˜åŠ¨ï¼Œå¯èƒ½é‡åˆ°é—®é¢˜ã€‚

```bash npm2yarn
npm i vue-router@3.6.5
```

### åº”ç”¨

åˆ›å»º `src/config/router.js` ç»Ÿä¸€ç®¡ç†è·¯ç”±é…ç½®ï¼ˆæ–‡ä»¶åå’Œè·¯å¾„è‡ªå®šä¹‰ï¼‰

```js
import VueRouter from 'vue-router';
import Home from '@/pages/Home/index.vue';

// æ¨èè¿™ç§å†™æ³•, æœ‰æ›´å¥½çš„æç¤º
export default new VueRouter({
  mode: 'history',
  routes: [
    {
      path: '/',
      component: Home,
    },
  ],
});
```

åœ¨ `main.js` ä¸­å¼•ç”¨

```js
import router from './config/router'; // è·¯ç”±

Vue.use(VueRouter);

new Vue({
  router,
  render: (h) => h(App),
}).$mount('#app');
```

åœ¨ `App.Vue` ä¸­æ·»åŠ è·¯ç”±å‡ºå£

```html
<template>
  <div id="app">
    <router-view></router-view>
  </div>
</template>
```

### é¡µé¢æ‡’åŠ è½½

#### æ”¹ä¸º import() å¼•å…¥ç»„ä»¶

```js
export default new VueRouter({
  mode: 'history',
  routes: [
    {
      path: '/',
      component: () => import('@/pages/Home/index.vue'),
    },
  ],
});
```

#### ä¸ºä»€ä¹ˆè¦æ‡’åŠ è½½

æ‡’åŠ è½½å¯ä»¥ä½¿ä»£ç æ‰“åŒ…æ—¶æ›´å¥½çš„åˆ†å—ï¼Œä¼šå°†ç»„ä»¶å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨éœ€è¦è®¿é—®æ—¶å†è¯·æ±‚èµ„æºï¼ŒèŠ‚çœå¸¦å®½ã€‚å¦‚ä¸‹ï¼Œå¯ä»¥åœ¨æ§åˆ¶å°å‘ç°ä½¿ç”¨æ‡’åŠ è½½æ—¶ `home` æ–‡ä»¶æ˜¯å•ç‹¬è¯·æ±‚çš„ã€‚

| æ— æ‡’åŠ è½½                            | æ‡’åŠ è½½                           |
| :---------------------------------- | :------------------------------- |
| ![](./images/without-lazy-load.png) | ![](./images/with-lazy-load.png) |

> å¦‚æœé‡åˆ°äº†é¡µé¢ä¸æ˜¾ç¤ºçš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ€è·¯æ’æŸ¥ï¼š

- `component` æ˜¯å¦æ˜¯å‡½æ•°å½¢å¼å¼•å…¥ `() => import('...')`
- `new Router()` æ˜¯å¦æ­£ç¡®ä½¿ç”¨

## æ·»åŠ  ESLint

**å®‰è£…**

```bash npm2yarn
npm i eslint -D
```

**é…ç½®**

æ ¹ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ `.eslintrc.js`ï¼Œå°† `package.json` ä¸­çš„ `eslintConfig` é…ç½®æ‹·è´è¿›æ¥ï¼ˆç›´æ¥åœ¨ `package.json` ä¸­é…ç½®ä¹Ÿå¯ä»¥ï¼‰ã€‚åœ¨ `rules` ä¸­æ·»åŠ å¯¹åº”çš„è§„åˆ™ï¼Œå¦‚ä¸‹ç¦ç”¨äº† `vue` ç»„ä»¶åå¿…é¡»æ˜¯ä¸¤æ®µå¼

> eslint é…ç½®æ–‡ä»¶æ”¯æŒå¤šæ–‡ä»¶æ ¼å¼ `js|json|yaml`ï¼Œä¾æ®ä¸ªäººåå¥½é€‰æ‹©ã€‚

```js
module.exports = {
  root: true,
  env: {
    node: true,
    browser: true,
  },
  extends: ['plugin:vue/essential', 'eslint:recommended'],
  parserOptions: {
    parser: '@babel/eslint-parser',
  },
  rules: {
    'vue/multi-word-component-names': 0, //vue ç»„ä»¶å¿…é¡»ä¸¤æ®µå¼
  },
};
```

## æ·»åŠ  font-awesome

### å®‰è£…

è¿™æ¬¡å°è¯•äº†æœ€æ–°çš„ `6.x` ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ˜¯é‡‡ç”¨äº† `SVG + JS` çš„æ¸²æŸ“æ–¹å¼ [font-awesome official](https://fa6.dashgame.com/)

å®˜æ–¹æœ‰å…·ä½“çš„æ•™ç¨‹[font-awesome use with Vue](https://fontawesome.com/docs/web/use-with/vue/)

**å®‰è£…æ ¸å¿ƒåŒ…**

```bash npm2yarn
npm i @fortawesome/fontawesome-svg-core --save
```

**å®‰è£…å›¾æ ‡**

> å®‰è£…çš„éƒ½æ˜¯å…è´¹çš„ï¼Œå¯ä»¥åœ¨å®˜ç½‘è§£é” Pro ğŸ’°

```bash npm2yarn
npm i --save @fortawesome/free-solid-svg-icons
npm i --save @fortawesome/free-regular-svg-icons
npm i --save @fortawesome/free-brands-svg-icons

```

**å®‰è£…å­—ä½“ç»„ä»¶**

> æ³¨æ„ vue ç‰ˆæœ¬

```bash npm2yarn
# for Vue 2.x
npm i @fortawesome/vue-fontawesome@latest-2 --save

# for Vue 3.x
npm i  @fortawesome/vue-fontawesome@latest-3 --save

```

### åº”ç”¨

**å¼•å…¥**

åˆ›å»ºæ–‡ä»¶ `src/config/font-awesome.config.js` é›†ä¸­ç®¡ç†ï¼ˆæ–‡ä»¶åå’Œè·¯å¾„è‡ªå®šä¹‰ï¼‰

```js
import Vue from 'vue';
import { library } from '@fortawesome/fontawesome-svg-core'; //font-awesome core æ ¸å¿ƒåŒ…

import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'; //font-awesome å­—ä½“ç»„ä»¶

import { faUserSecret } from '@fortawesome/free-solid-svg-icons'; // ç‰¹å®šå›¾æ ‡

library.add(faUserSecret); // æ·»åŠ å›¾æ ‡åˆ° library ä¸­

Vue.component(
  'fa-icon',
  FontAwesomeIcon
); /* å°† font-awesome ç»„ä»·å£°æ˜ä¸º Vue ç»„ä»¶, è¿™é‡Œä¸ºäº†æ–¹ä¾¿æ³¨å†Œä¸º fa-icon */
```

åœ¨ main.js ä¸­å¼•ç”¨

```js
import './config/font-awesome.config';
```

**ä½¿ç”¨**

> æ³¨æ„ï¼šæ¯æ·»åŠ ä¸€ä¸ªå›¾æ ‡éƒ½éœ€è¦åœ¨ `config` æ–‡ä»¶ä¸­å¼•å…¥

```html
<template>
  <fa-icon icon="fa-solid fa-user-secret" />
</template>
```
