---
displayed_sidebar: frontendSidebar
title: JS 获取 IP 地址
description: JS 通过公用接口获取 IP
tags:
  - IP
---

<Author count={2400} publish="2022-11-12" update="2023-6-12 10:03" />

JS 中并没有直接获取客户端 IP 相应的 API。

## 通过搜狐接口获取公网 IP

> 搜狐接口返回 `text/json` 的 `JS` 代码，声明一个包含 `IP` 信息的 `returnCitySN` 变量；

```html
<script src="https://pv.sohu.com/cityjson?ie=utf-8"></script>
<script type="text/javascript">
  document.write(`<p>[搜狐] IP地址:${returnCitySN?.cip} 地址:${returnCitySN?.cname}</p>`);
</script>
```

```js
// 搜狐接口返回结果
var returnCitySN = {
  cip: '114.83.216.171',
  cid: '310118',
  cname: '上海市青浦区',
};
```

## DEMO

import styles from './get-ip.module.scss';

export const IPAddress = () => {
  return (
    <iframe
      className={styles['get-ip']}
      srcdoc="<script src='https://pv.sohu.com/cityjson?ie=utf-8'></script>
      <script type='text/javascript'>
        document.write(`<p style='font-family: Arial, Helvetica, sans-serif;'>[搜狐] IP地址:${returnCitySN?.cip} 地址:${returnCitySN?.cname}</p>`)
      </script>"
    />
  );
};

<IPAddress />
