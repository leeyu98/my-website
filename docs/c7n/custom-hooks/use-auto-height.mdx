---
title: useAutoHeight
description: è‡ªåŠ¨é«˜åº¦è®¡ç®—ã€‚
sidebar_position: 10
tags:
  - å¤´åƒ
  - AvatarPro
keywords:
  - å¤´åƒ
  - AvatarPro
---

<Author cost={5} publish="2024-1-11 18:40" update="" />

åŸºäºåŸç”Ÿ `requireAnimationFrame` å®ç°çš„å…ƒç´ é«˜åº¦è‡ªåŠ¨è®¡ç®— `Hook`ã€‚

## ç‰¹æ€§è¯´æ˜

- æ ¹æ®å±å¹•é«˜åº¦ï¼Œè‡ªåŠ¨è®¡ç®—å¯å¡«å……é«˜åº¦
- æ”¯æŒç›‘å¬å±å¹•å’Œè‡ªå®šä¹‰å…ƒç´ å˜åŒ–ï¼Œé‡æ–°è®¡ç®—

## åŸºæœ¬ç”¨æ³•

```jsx showLineNumbers
import { useAutoHeight } from 'hscs-front-ipfm/lib/hooks';

export default () => {
  const height = useAutoHeight(
    {
      selector: '.table__body',
      parentSelector: '.table_wrapper',
      minHeight: 100,
      diff: 24,
      depSelectors: [],
    },
    []
  );
  return (
    <div className="table_wrapper">
      <Table
        className="table__body"
        style={{ height }}
        // ...other props
      />
    </div>
  );
};
```

## å‚æ•°

> é™¤æ­¤ä»¥ä¸‹é™„åŠ å±æ€§å¤–ï¼Œæ”¯æŒ `Avatar` é»˜è®¤æ‰€æœ‰å±æ€§ `AvatarProps`

| å‚æ•°           | ç±»å‹       | è¯´æ˜                                                                                        | é»˜è®¤å€¼                                      | é»˜è®¤å€¼è¯´æ˜                                                         |
| :------------- | :--------- | :------------------------------------------------------------------------------------------ | :------------------------------------------ | ------------------------------------------------------------------ |
| parentSelector | `string`   | <Highlight color="red">å¿…è¾“</Highlight> çˆ¶çº§é€‰æ‹©å™¨ (å¿…é¡»æä¾›ä¸”åº”å…¨å±€å”¯ä¸€)é™å®šé€‰æ‹©å™¨æ‰€åœ¨èŒƒå›´ | -                                           |
| selector       | `string`   | <Highlight>å¯é€‰</Highlight> ç›®æ ‡é€‰æ‹©å™¨ï¼ˆéœ€è¦ä½¿ç”¨ css æ ‡å‡†é€‰æ‹©å™¨ï¼‰                           | `'.c7n-pro-table-body'`                     |
| diffSelectors  | `string[]` | <Highlight>å¯é€‰</Highlight> ç›¸å…³å…ƒç´ çš„é«˜åº¦ä¼šè¢«å‡å»ï¼Œå¹¶è‡ªåŠ¨ç›‘å¬é«˜åº¦å˜åŒ–                      | `[]`                                        |
| depSelectors   | `string[]` | <Highlight>å¯é€‰</Highlight> å½±å“è‡ªåŠ¨é«˜åº¦è®¡ç®—çš„å…ƒç´ é€‰æ‹©å™¨ï¼Œå…³è”çš„å…ƒç´ å˜åŠ¨ä¼šé‡æ–°è®¡ç®—é«˜åº¦      | `['.c7n-pro-table-professional-query-bar']` | è¡¨æ ¼ professionalBar                                               |
| diff           | `number`   | <Highlight>å¯é€‰</Highlight> éœ€è¦é¢å¤–å‡å»é«˜åº¦                                                | `40`                                        | åº•éƒ¨åˆ†é¡µå™¨çš„é«˜åº¦                                                   |
| minHeight      | `number`   | <Highlight>å¯é€‰</Highlight> æœ€å°é«˜åº¦, é¿å…å°å±å±•ç¤ºè¿‡äºæ‹¥æŒ¤                                  | `376`                                       | 10 æ¡æ•°æ®çš„é«˜åº¦ã€‚è¡¨å¤´é«˜åº¦ + (2 \* è¾¹æ¡†é«˜åº¦), å³ 34 \* 11 + 2 = 376 |

### diffSelectors å’Œ depSelectors æœ‰ä»€ä¹ˆä¸åŒ

- diffSelectors å…ƒç´ é«˜åº¦å‚ä¸è®¡ç®—ï¼Œå¹¶è‡ªåŠ¨ç›‘å¬é«˜åº¦å˜åŒ–ï¼Œé‡æ–°è®¡ç®—ï¼›
- depSelectors å…ƒç´ é«˜åº¦å˜åŒ–ä¼šå¼•èµ·é‡æ–°è®¡ç®—ï¼Œä½†ä¸å‚ä¸è®¡ç®—ã€‚

## è¿”å›å€¼

è¿”å›ä¸€ä¸ª `number` ç±»å‹çš„æ•°å­—ï¼Œä¸ºè®¡ç®—é«˜åº¦å’Œç»™å®šæœ€å°é«˜åº¦ä¸­çš„è¾ƒå¤§å€¼ `(Math.max(height, minHeight))`ã€‚

## æ›´æ–°æ—¥å¿—

### alpha

**2023-11-07**

- ğŸ‹ é‡æ„ `useAutoHeight`ï¼›
