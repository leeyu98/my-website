---
title: TransferProLov
description: åŸºäº TransferPro ç»„ä»¶å°è£…çš„å¯å›æ˜¾ç©¿æ¢­æ¡†ç»„ä»¶ã€‚
sidebar_position: 30
tags:
  - Transfer
  - ç©¿æ¢­æ¡†
keywords:
  - TransferProLov
  - ç©¿æ¢­æ¡†
  - ç©¿æ¢­å€¼é›†
---

<Author count={2500} publish="2023-05-13 00:51:00" update="2023-05-24 13:55:00" />

åŸºäº `TransferPro` å®ç°ï¼Œå°† `Modal.open` æ“ä½œå†…ç½®åˆ°ç»„ä»¶ä¸­ï¼Œæ¸²æŸ“ä¸º `TextField` ç»„ä»¶ã€‚

![åŸºæœ¬ç”¨æ³•](./images/transfer-pro-lov-base.png)

## ç‰¹æ€§è¯´æ˜

- æ”¯æŒ `TransferPro` æ‰€æœ‰ç‰¹æ€§
- æ”¯æŒ `record` æ•°æ®ç»‘å®š

## åŸºæœ¬ç”¨æ³•

<Tabs>
<TabItem value="index" label="Index" default>

```tsx title="index.tsx"
import { useDataSet } from 'choerodon-ui/pro';
import { TransferProLov } from 'hscs-common/components';
import { getDSProps } from './store';

export default () => {
  const tenantDS = useDataSet(getDSProps, []);
  return <TransferProLov name="tenants" record={tenantDS.current} />;
};
```

</TabItem>
<TabItem value="data-set" label="DataSet">

```ts {10,42-45} showLineNumbers title="store/index.ts"
import { DataSetProps } from 'choerodon-ui/dataset/data-set/DataSet';
import { DataSetSelection, FieldIgnore, FieldType } from 'choerodon-ui/dataset/data-set/enum';

export const getDSProps = (): DataSetProps => {
  return {
    autoCreate: true,
    // æµ‹è¯•æ•°æ®
    data: [
      {
        tenants: [
          {
            tenantName: 'æµ‹è¯•ç§Ÿæˆ·',
            createdBy: 2,
            tenantId: '52',
            enabledFlag: 1,
            tenantNum: 'TEST2',
            creationDate: '2022-02-25 10:46:59',
          },
          {
            tenantName: 'è‡ªåŠ¨åŒ–æµ‹è¯•ç§Ÿæˆ·',
            createdBy: 2,
            tenantId: '51',
            enabledFlag: 1,
            tenantNum: 'AUTO_TEST',
            creationDate: '2022-02-25 10:46:17',
          },
          {
            tenantName: 'HZEROå¹³å°',
            createdBy: -1,
            tenantId: '0',
            enabledFlag: 1,
            tenantNum: 'HZERO',
            creationDate: '2021-08-30 12:11:04',
          },
        ],
      },
    ],
    fields: [
      {
        name: 'tenants',
        type: FieldType.object,
        lovCode: 'HPFM.TENANT_PAGING',
        idField: 'tenantId',
        textField: 'tenantName',
        valueField: 'tenantNum',
        ignore: FieldIgnore.always,
      },
      {
        name: 'tenantId',
        type: FieldType.string,
      },
      {
        name: 'tenantName',
        type: FieldType.string,
      },
    ],
    events: {
      update: ({ dataSet, record, name, value, oldValue }) => {
        console.log(dataSet, record, name, value, oldValue);
      },
    },
  };
};
```

</TabItem>
</Tabs>

## åœ¨è¡¨å•ä¸­åº”ç”¨

```tsx
import { TransferProLov } from 'hscs-common/components';

export default () => {
  return (
    <Form>
      <TransferProLov name="tenant" record={tenantDS.current} label="ç§Ÿæˆ·" />
    </Form>
  );
};
```

## API

| å‚æ•°        | ç±»å‹                                 | è¯´æ˜                                                                                                                                                   | é»˜è®¤å€¼                          |
| :---------- | :----------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------ |
| name        | `string`                             | <Highlight color="red">å¿…è¾“</Highlight> å­—æ®µåç§°                                                                                                       | <div style={{ width: 50 }} /> - |
| record      | `Record` &#124; `undefined`          | <Highlight color="red">å¿…è¾“</Highlight> å…³è”çš„ `record`                                                                                                | -                               |
| configProps | `{data?:any; read?: TransportType }` | <Highlight>å¯é€‰</Highlight> æºæ•°æ®åŠ è½½æ–¹å¼ï¼Œä»…å½“æŒ‡å®šæ•°æ®æˆ–è‡ªå®šä¹‰æ¥å£æ—¶ç”¨åˆ°                                                                             | -                               |
| modalProps  | `TLovModalProps`                     | <Highlight>å¯é€‰</Highlight> æ”¯æŒé™¤ `key` `maskClosable` `children` `onOk` ä»¥å¤–çš„ `ModalProps` æ‰€æœ‰å±æ€§                                                 | -                               |
| å…¶ä»–        | `TransferProProps & FormFieldProps`  | æ”¯æŒ `TransferPro` é™¤ `configProps` `targetProps` å¤–æ‰€æœ‰å±æ€§ï¼›æ”¯æŒ `FormFieldProps` é™¤ `dataSet` æ‰€æœ‰å±æ€§ã€‚ [[1]](#ä¸ºä»€ä¹ˆä¸æ”¯æŒ-formfieldpropsdataset) | -                               |

## Q & A

### ä¸ºä»€ä¹ˆä¸æ”¯æŒ FormFieldProps.dataSet

å¯ä»¥ï¼Œä½†æ²¡å¿…è¦ã€‚åº”ç”¨åœºæ™¯ç±»ä¼¼äºè¡¨å•é¡¹ï¼Œ`record` æ›´æ–¹ä¾¿ç›´æ¥å–å€¼ï¼›å…¶æ¬¡ `record.dataSet` ä¹Ÿèƒ½å¤Ÿè·å–å…³è”çš„ `DataSet`ã€‚

### è¿™å’Œ TransferButton æœ‰ä»€ä¹ˆä¸ä¸€æ ·

å†…éƒ¨å®ç°ä¸åŒï¼š

- `Button` æ›´å€¾å‘äºæ“ä½œï¼Œä¸æ¶‰åŠå›æ˜¾ï¼›æ‰€ä»¥å†…éƒ¨å®ç°æ—¶ `Button` å¯ä»¥åœ¨å¼¹çª—å±•å¼€æ—¶åŠ è½½æ•°æ®ï¼›
- è€Œ `Lov` æ›´å€¾å‘äºå›æ˜¾ã€‚æ•… `Lov` åœ¨ä¸€å¼€å§‹å°±å¿…é¡» (é€šè¿‡ `record`) æä¾›å›æ˜¾çš„æ•°æ®ï¼Œå€¼çš„å˜æ›´ä¹Ÿä¼šè‡ªåŠ¨åŒæ­¥åˆ°ç»‘å®šçš„ `record` ä¸­ï¼Œå¹¶è§¦å‘ `dataSet` çš„ `update` äº‹ä»¶ã€‚

## æ›´æ–°æ—¥å¿—

### 0.1.1

- ğŸ‰ `hscs-front-common@0.1.1` èµ·æ”¯æŒè¯¥ç»„ä»¶

### alpha

**2023-05-16**

- ğŸ‰ æ–°å¢ `ConfigProps.data` æ”¯æŒæ‰‹åŠ¨åŠ è½½æºæ•°æ®
